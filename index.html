<form id="deusForm">
  <label>Họ tên:</label>
  <input type="text" name="ten" required /><br><br>

  <label>Email:</label>
  <input type="email" name="email" required /><br><br>

  <label>Số điện thoại:</label>
  <input type="text" name="sdt" required /><br><br>

  <label>Nội dung:</label>
  <textarea name="message" required></textarea><br><br>

  <button type="submit">Gửi đăng ký</button>
</form>

<p id="result"></p>

<script>
  const form = document.getElementById('deusForm');
  const result = document.getElementById('result');

  form.addEventListener('submit', function (e) {
    e.preventDefault();

    const formData = new FormData(form);
    const object = {};
    formData.forEach((value, key) => {
      object[key] = value;
    });
    const json = JSON.stringify(object);

    fetch('https://script.google.com/macros/s/AKfycbwt2tytQG5IybqtyTMGE-1f9aJ25Eg_ZuilFxujVOW3EfmySLLjnBkyg-iSKH956P1T/exec', {
      method: 'POST',
      body: json,
      headers: {
        'Content-Type': 'application/json'
      }
    })
    .then(res => res.text())
    .then(text => {
      result.innerText = '✅ Gửi thành công!';
      form.reset();
    })
    .catch(err => {
      result.innerText = '❌ Lỗi khi gửi. Vui lòng thử lại.';
      console.error(err);
    });
  });
</script>
